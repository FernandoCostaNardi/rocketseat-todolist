<!DOCTYPE html>
<html 	lang="pt" xmlns="http://www.w3.org/1999/xhtml" 
    		xmlns:th="http://www.thymeleaf.org"
    		xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    		layout:decorate="~{layout/LayoutPadrao}"
    		xmlns:brewer="http://brewer.algaworks.com">
        
<head>
    <title>Total de Vendas do Dia  - JAB </title>
     <script th:src="@{/javascripts/vendors/pace.min.js}"></script> 
    <link rel="stylesheet" type="text/css" th:href="@{/layout/stylesheets/pace-theme-barber-shop.css}"/>
</head>

<body>
	<section layout:fragment="conteudo">
	    <div class="page-header">
	        <div class="container-fluid">
	            <div class="row">
	                <div class="col-sm-10">
	                    <h1>Total de Vendas do Dia - JAB </h1>
	                </div>
	            </div>
	        </div>
	    </div>
	  
		<div class="container-fluid">
			<div class="table-responsive  bw-tabela-simples" >
			    <table 	class="table  table-hover table-striped" 
			    			th:object="${vendasDoDiaporLoja}" 
			    			id="tableValorTotalDiarioPorLoja">
			        <thead>
			            <tr class="gl-tabela-Padrao-Titulos">
			                <th class="gl-tabela-vendas-lojaTitulo">Lojas</th>
			                <th class="gl-tabela-vendas-vendaTotalTitulo">Vendas PDV</th>
			                <th class="gl-tabela-vendas-vendaTotalTitulo">Vendas Danfe</th>
			                <th class="gl-tabela-vendas-vendaTotalTitulo">Trocas</th>
			                 <th class="gl-tabela-vendas-vendaTotalTitulo">Total</th>
			            </tr>
			        </thead>
			
			        <tbody>
			            <tr 	class="gl-tabela-Padrao-dados" 
			            		th:each="venda : ${vendasDoDiaporLoja}">
			
			                <td 	class="gl-tabela-vendas-lojaDados" 
			                		th:text="${venda.loja}">1</td>
			                <td 	class="gl-tabela-vendas-vendaTotalDados" 
			                		th:text="'R$ ' + ${{venda.valorVenda != null ? venda.valorVenda : '0,00'}}">Visa
			                </td>
			                <td	class="gl-tabela-vendas-vendaTotalDados" 
			                		th:text="'R$ ' + ${{venda.valorVendaDanfe != null ? venda.valorVendaDanfe : '0,00'}}">Visa
			                </td>
			                <td class="gl-tabela-vendas-vendaTotalDados">
				                <th:block th:if="${(venda.valorTroca != null ? venda.valorTroca : 0) > 0 }">
				                                   <a 	class="js-tooltip" 
				                                   		title="Trocas Detalhadas" 
				                                   		th:href="@{/trocas/{tenantid}/trocasDetalhadasDoDia_{tenantid}(tenantid=${tenantid})}">
				                                   		<label 	style="color: red"  
				                                					th:text="'R$ ' + ${{venda.valorTroca != null ? venda.valorTroca : '0,00'}}">
				                                		</label>
				                                </a>
				                </th:block> 
				                <th:block th:if="${(venda.valorTroca != null ? venda.valorTroca : 0) <= 0 }">
				                                <a	class="js-tooltip" 
				                                		title="Trocas Detalhadas" 
				                                		th:href="@{/trocas/{tenantid}/trocasDetalhadasDoDia_{tenantid}(tenantid=${tenantid})}">
				                                		<label	style="color: #333; 
				                                					font-weight: 300;"  
				                                					th:text="'R$ ' + ${{venda.valorTroca != null ? venda.valorTroca : '0,00'}}"> 
				                                		</label>
				                                </a>
				                </th:block>       
			             	</td>
			             	<td 	class="gl-tabela-vendas-vendaTotalDados" 
			             		th:text="'R$ ' + ${{(((venda.valorVenda != null ? venda.valorVenda : 0) + 
			             								(venda.valorVendaDanfe != null ? venda.valorVendaDanfe : 0)) - 
			             								(venda.valorTroca != null ? venda.valorTroca: 0)) != 0 ? 
			             								(((venda.valorVenda != null ? venda.valorVenda : 0) + 
			             								(venda.valorVendaDanfe != null ? venda.valorVendaDanfe : 0)) - 
			             								(venda.valorTroca != null ? venda.valorTroca: 0)) : 
			             								'0,00'}}">Visa
			             	</td>
			         	</tr>
				        <tr th:if="${#lists.isEmpty(vendasDoDiaporLoja)}">
				             <td 	colspan="2" 
				             		class="gl-nadaEncontrado">Nenhuma venda foi efetuada hoje</td>
				        </tr>
			     	</tbody>
			    	<tfoot>
			       		<tr th:each="somaVenda : ${somaVendasDoDiaporLoja}">
			           		<td class="gl-tabela-rodape-totalizador-Titulo">TOTAL DE VENDAS HOJE</td>
			           		<td 	class="gl-tabela-rodape-totalizador-Dados" 
			           				th:text="'R$ ' + ${{somaVenda.valorVenda}}">
			           		</td>
			           		<td 	class="gl-tabela-rodape-totalizador-Dados" 
			           				th:text="'R$ ' + ${{somaVenda.valorVendaDanfe}}">
			           		</td>
			           		<td class="gl-tabela-rodape-totalizador-Dados">
			           			<th:block th:if="${somaVenda.valorTroca > 0 }">
			              			<label 	style="color: red" 
			              						th:text="'R$ ' + ${{somaVenda.valorTroca}}">
			       					</label>
			              		</th:block> 
			          			<th:block th:if="${somaVenda.valorTroca <= 0 }">
			               			<label 	style="color: #333; 
			                  					font-weight: 300;" 
			                  					th:text="'R$ ' + ${{somaVenda.valorTroca}}">
			                     	</label>
			                  	</th:block>    
			              	</td>
			              	<td 	class="gl-tabela-rodape-totalizador-Dados" 
			              			th:text="'R$ ' + ${{((somaVenda.valorVenda  != null ? somaVenda.valorVenda : 0) + 
			              					(somaVenda.valorVendaDanfe  != null ? somaVenda.valorVendaDanfe : 0)) - 
			              					(somaVenda.valorTroca  != null ? somaVenda.valorTroca : 0)}}">
			             	</td>
			             	<td>
			             	</td>
			         	</tr>
			        </tfoot>
			    </table>
			    <hr />
			    <div class="gl-dates">
			        <button id="btnExportExcel" class="btn btn-sm btn-success clearfix">
			            <span class="fa fa-file-excel-o"></span>  EXPORT TO EXCEL
			        </button>
			    </div>
				<hr />
			</div>
		</div>
	</section>
	
	<th:block layout:fragment="javascript-extra">
		<script th:src="@{/javascripts/exportacaoExcel/tabelaParaExcel.js}"></script>
	</th:block>
</body>
</html>