<!DOCTYPE html>
<html 	lang="pt" xmlns="http://www.w3.org/1999/xhtml" 
    		xmlns:th="http://www.thymeleaf.org"
    		xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    		layout:decorate="~{layout/LayoutPadrao}"
    		xmlns:brewer="http://brewer.algaworks.com">
        
<head>
    <title>Marcas Por Periodo - Smart Eletron </title>
     <script th:src="@{/javascripts/vendors/pace.min.js}"></script> 
    <link rel="stylesheet" type="text/css" th:href="@{/layout/stylesheets/pace-theme-barber-shop.css}"/>
</head>

<body>
	<section layout:fragment="conteudo">
	    <div class="page-header">
	        <div class="container-fluid">
	            <div class="row">
	                <div class="col-sm-10">
	                    <h1>Marcas por Período </h1>
	                </div>
	            </div>
	        </div>
	    </div>
	  
		<div class="container-fluid">
		
			<form method="GET" th:action="@{/vendas/{tenantid}/margemContribuicaoMarcaPorPeriodo_{tenantid}/pesquisa_{tenantid}(tenantid=${tenantid})}">

				<div class="row">
                            <div class="form-group  col-sm-3">
								<label for="dataEmissaoInicial" class="control-label  gl-label">Período Inicial</label> 
								<div class='input-group date'>
									<input type="text" class="form-control  js-date gl-dates"
										id="dataEmissaoInicial" name="dataEmissaoInicial"
										autocomplete="off" /> 
										<span class="input-group-addon"> 
										      <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
								</div>
							</div>
							<div class="form-group  col-sm-3">
								<label for="dataEmissaoFinal" class="control-label  gl-label">Período Final</label> 
								<div class='input-group date'>
										<input type="text" class="form-control js-date gl-dates"
											id="dataEmissaoFinal"  name="dataEmissaoFinal" autocomplete="off" />
										<span class="input-group-addon"> 
                                              <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
								</div>	
							</div>
							 <span class="input-group-btn" style="padding-top: 28px;">    
								 <button type="submit" class="btn  btn-primary">
	                                  <i class="glyphicon glyphicon-search"></i>
	                             </button>
                             </span>
						</div>
            </form> 
		
			<div class="table-responsive  bw-tabela-simples" >
			    <table 	class="table  table-hover table-striped" 
			    			style="width: 600px" 
			    			th:object="${margemContribucaoMarcaPorPeriodo}" 
			    			id="tableMargemContribuicaoMarcasPorPeriodo">
			        <thead>
			            <tr class="gl-tabela-Padrao-Titulos">
			                <th class="gl-tabela-margemContribuicaoMarcasDiaria-MarcaTitulo">Marca</th>
			                <th class="gl-tabela-margemContribuicaoMarcasDiaria-valorTotalTitulo">Valor De Venda</th>
			                <th class="gl-tabela-margemContribuicaoMarcasDiaria-percentualTitulo">%</th>
			            </tr>
			        </thead>
			
			        <tbody>
			            <tr 	class="gl-tabela-Padrao-dados"
			            		th:each="venda : ${margemContribucaoMarcaPorPeriodo}">
			
			                <td 	class="gl-tabela-margemContribuicaoMarcasDiaria-MarcaDados" 
			                		th:text="${venda.marca}">1</td>
			                <td 	class="gl-tabela-margemContribuicaoMarcasDiaria-valorTotalDados" 
			                		th:text="'R$ ' + ${{venda.valorTotalItens != null ? venda.valorTotalItens : '0,00'}}">Visa
			                </td>
			                <td 	class="gl-tabela-margemContribuicaoMarcasDiaria-percentualDados" 
			                		th:text="${{venda.valorTotalItens != null ? ((venda.valorTotalItens / totalPorPeriodo) * 100) : '0,00'}} + '%'">Visa
			                </td>
			         	</tr>
				        <tr th:if="${#lists.isEmpty(margemContribucaoMarcaPorPeriodo)}">
				             <td 	colspan="2" 
				             		class="gl-nadaEncontrado">Nenhuma venda foi efetuada hoje</td>
				        </tr>
			     	</tbody>
			    	<tfoot>
			    	<tr>
			           		<td class="gl-tabela-rodape-totalizador-Titulo">TOTAL DE VENDAS POR MARCA </td>
			           		<td 	class="gl-tabela-rodape-totalizador-Dados">R$ [[${{totalPorPeriodo}}]]
			           		</td>
			        </tfoot>
			    </table>
			    <hr />
			    <div class="gl-dates">
			        <button id="btnExportExcel" class="btn btn-sm btn-success clearfix">
			            <span class="fa fa-file-excel-o"></span>  EXPORT TO EXCEL
			        </button>
			    </div>
				<hr />
			</div>
		</div>
	</section>
	
	<th:block layout:fragment="javascript-extra">
		<script th:src="@{/javascripts/exportacaoExcel/tabelaParaExcel.js}"></script>
	</th:block>
</body>
</html>